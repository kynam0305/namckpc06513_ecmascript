<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Students Display</title>
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
      </head>
      <body>
        <div class="container mt-5">
          <h1>Students List</h1>
          <table id="studentsTable" class="table table-striped">
            <thead>
              <tr>
                <th>STT</th>
                <th>Ảnh đại diện</th>
                <th>Họ tên</th>
                <th>Ngày tạo</th>
              </tr>
            </thead>
            <tbody id="studentsData">
              <!-- Students data will be displayed here -->
            </tbody>
          </table>
        </div>
      
        <!-- Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <!-- JavaScript -->
        <script>
          async function fetchStudentsData() {
            try {
              const response = await fetch('https://65929f4fbb129707198fe18e.mockapi.io/tinhpv10/students');
              const data = await response.json();
              return data;
            } catch (error) {
              console.error('Error fetching students data:', error);
              return [];
            }
          }
      
          async function displayStudentsData() {
            const studentsTable = document.getElementById('studentsData');
            const studentsData = await fetchStudentsData();
      
            if (studentsData.length === 0) {
              studentsTable.innerHTML = '<tr><td colspan="4">No student data available</td></tr>';
              return;
            }
      
            const studentsHTML = studentsData.map((student, index) => `
              <tr>
                <td>${index + 1}</td>
                <td><img src="${student.avatar}" alt="Avatar" style="width: 50px; height: 50px;"></td>
                <td>${student.fullName}</td>
                <td>${student.createdAt}</td>
              </tr>
            `).join('');
            studentsTable.innerHTML = studentsHTML;
          }
      
          window.onload = () => {
            displayStudentsData();
          };
        </script>
      </body>
</html>